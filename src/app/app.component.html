<!-- Toolbar -->
<div class="toolbar" role="banner">
  <!-- Hamburger Menu -->
  <button
    class="hamburger"
    [class.open]="menuOpen"
    (click)="toggleMenu()"
    aria-label="Toggle menu"
  >
    <span></span>
    <span></span>
    <span></span>
  </button>

  <p>Bowl Pick'em <span *ngIf="isAdmin" class="admin-badge">Admin</span></p>

  <!-- Desktop Navigation -->
  <nav class="nav-menu">
    <a routerLink="" (click)="closeMenu()">Home</a>
    <a *ngIf="showSubmit" routerLink="picks" (click)="closeMenu()"
      >Submit Entry</a
    >
    <a routerLink="my-entries" (click)="closeMenu()"
      >My Profile</a
    >
    <a routerLink="scores" (click)="closeMenu()">Scores</a>
    <a routerLink="standings" (click)="closeMenu()">Standings</a>
    <a routerLink="pick-breakdowns" (click)="closeMenu()">Pick Breakdown</a>
    <a routerLink="timeline" (click)="closeMenu()">Timeline</a>
    <a routerLink="about" (click)="closeMenu()">About</a>
    <a *ngIf="isAdmin" routerLink="admin" (click)="closeMenu()">Admin</a>
  </nav>

  <!-- Mobile Navigation -->
  <nav class="mobile-menu" [class.open]="menuOpen">
    <a routerLink="" (click)="closeMenu()">Home</a>
    <a *ngIf="showSubmit" routerLink="picks" (click)="closeMenu()"
      >Submit Entry</a
    >
    <a routerLink="my-entries" (click)="closeMenu()"
      >My Profile</a
    >
    <a routerLink="scores" (click)="closeMenu()">Scores</a>
    <a routerLink="standings" (click)="closeMenu()">Standings</a>
    <a routerLink="pick-breakdowns" (click)="closeMenu()">Pick Breakdown</a>
    <a routerLink="timeline" (click)="closeMenu()">Timeline</a>
    <a routerLink="about" (click)="closeMenu()">About</a>
    <a *ngIf="isAdmin" routerLink="admin" (click)="closeMenu()">Admin</a>
  </nav>

  <!-- Auth Section -->
  <div class="spacer"></div>
  <div class="auth-section">
    <ng-container *ngIf="isAuthenticated; else notLoggedIn">
      <!-- User Avatar Dropdown -->
      <div class="user-avatar-container">
        <button
          class="user-avatar"
          (click)="toggleUserDropdown()"
          [title]="'User menu for ' + (currentUser$ | async)"
          aria-label="User menu"
        >
          {{ (currentUser$ | async)?.[0]?.toUpperCase() }}
        </button>

        <!-- Dropdown Menu -->
        <div class="user-dropdown" *ngIf="showUserDropdown">
          <div class="dropdown-username">
            {{ currentUser$ | async }}
            <span *ngIf="isAdmin" class="admin-badge">Admin</span>
          </div>
          <button
            class="dropdown-item"
            (click)="navigateToMyProfile()"
          >
            My Profile
          </button>
          <button class="dropdown-item logout-item" (click)="logout()">
            Logout
          </button>
        </div>
      </div>
    </ng-container>
    <ng-template #notLoggedIn>
      <button (click)="login()">Login</button>
    </ng-template>
  </div>
</div>

<router-outlet></router-outlet>
<app-footer></app-footer>
